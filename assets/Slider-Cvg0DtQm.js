import{j as s}from"./jsx-runtime-D_zvdyIk.js";import{e as x,r as o}from"./iframe-CNewWGwA.js";import{T as P}from"./TextBox-DhZTsRfC.js";import{L as V}from"./Loader-CdV_WFc2.js";import{a as q,I as M}from"./IconArrowRight-DaV6Kolw.js";import{B as F}from"./Button-B3Klu473.js";const O="_n23mSliderContainerSlider_17751_6",G="_n23mSliderSlideWrapper_17751_16",J="_n23mSliderSlide_17751_16",K="_n23mSliderControls_17751_37",Q="_n23mSliderControlsButtons_17751_45",U="_n23mSliderCounter_17751_51",m={n23mSliderContainerSlider:O,n23mSliderSlideWrapper:G,n23mSliderSlide:J,n23mSliderControls:K,n23mSliderControlsButtons:Q,n23mSliderCounter:U},I=(r,v,T=!1)=>(T?r.slice(0,v):r.slice(-v)).map((p,a)=>x.cloneElement(p,{key:`${T?"clone-first":"clone-last"}-${a}`,className:p.props.className})),R=({isCircular:r=!1,children:v,className:T,showControls:p=!0,loading:a=!1,loaderColor:B="black"})=>{const l=x.Children.toArray(v).filter(x.isValidElement),[i,f]=o.useState(r&&l.length>=2?2:0),[d,u]=o.useState(!1),[y,A]=o.useState(0),[b,D]=o.useState(0),j=o.useRef(null),c=o.useRef([]),E=o.useRef(null),[w,k]=o.useState(null),[N,C]=o.useState(0),$=e=>{e.touches.length===1&&(k(e.touches[0].clientX),C(0))},z=e=>{w!==null&&C(e.touches[0].clientX-w)},X=()=>{N>50?W():N<-50&&L(),k(null),C(0)},g=r&&l.length>=2?[...I(l,2,!1),...l.map((e,t)=>x.cloneElement(e,{key:e.key??t,className:e.props.className})),...I(l,2,!0)]:l.map((e,t)=>x.cloneElement(e,{key:e.key??t,className:e.props.className}));c.current.length!==g.length&&(c.current=Array(g.length).fill(null)),o.useEffect(()=>{f(r&&l.length>=2?2:0)},[r,l.length,a]);const _=o.useCallback(()=>{const e=j.current;if(!e)return;const t=c.current[0];if(!t)return;const n=window.getComputedStyle(t);A(t.offsetWidth+parseFloat(n.marginLeft)+parseFloat(n.marginRight)),D(e.offsetWidth)},[]);o.useLayoutEffect(()=>{_();const e=()=>{E.current!==null&&clearTimeout(E.current),E.current=window.setTimeout(()=>{_(),u(!0)},150)};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e),E.current!==null&&clearTimeout(E.current)}},[_,a]),o.useEffect(()=>{const t=y+10;c.current.forEach((n,S)=>{if(!n)return;const h=(S-i)*t+(b-y)/2;n.style.transition=d?"transform 0.4s cubic-bezier(.4,0,.2,1)":"none",n.style.transform=`translateX(${h}px)`,n.style.left=""})},[i,y,b,d,g.length,r,a]),o.useEffect(()=>{if(!d||!r)return;const e=c.current.length,t=c.current[e-1];if(!t)return;let n;const S=()=>{let h=i;i===1?h=e-3:i===e-2&&(h=2),h!==i&&f(h),u(!1),t.removeEventListener("transitionend",S),clearTimeout(n)};return t.addEventListener("transitionend",S),n=window.setTimeout(()=>{u(!1),t.removeEventListener("transitionend",S)},500),()=>{t.removeEventListener("transitionend",S),clearTimeout(n)}},[i,r,d,a]),o.useEffect(()=>{if(!d)return;const e=c.current[0];if(!e)return;let t;const n=()=>{u(!1),e.removeEventListener("transitionend",n),clearTimeout(t)};return e.addEventListener("transitionend",n),t=window.setTimeout(()=>{u(!1),e.removeEventListener("transitionend",n)},500),()=>{e.removeEventListener("transitionend",n),clearTimeout(t)}},[d,a]);const L=()=>{d||(u(!0),f(r?e=>e+1:e=>Math.min(e+1,g.length-1)))},W=()=>{d||(u(!0),f(r?e=>e-1:e=>Math.max(e-1,0)))},H=()=>{if(!r)return i;const e=l.length;return e<1?0:(i-2+e)%e};return s.jsxs("div",{className:[m.n23mSlider,"n23mSlider",T].filter(Boolean).join(" "),style:{height:a?"calc(100% - 2px)":p&&l.length>1?"calc(100% - 60px)":"100%"},onTouchStart:$,onTouchMove:z,onTouchEnd:X,children:[a&&s.jsx(V,{loaderColor:B}),!a&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:[m.n23mSliderContainerSlider,"n23mSliderContainerSlider"].filter(Boolean).join(" "),children:s.jsx("div",{className:[m.n23mSliderSlideWrapper,"n23mSliderSlideWrapper"].join(" "),ref:j,children:g.map((e,t)=>s.jsx("div",{ref:n=>{c.current[t]=n},className:`${m.n23mSliderSlide}`,style:{width:l.length>1?"calc(100% - 40px)":"100%"},"aria-hidden":i!==t,children:e},e.key??t))})}),p&&l.length>1&&s.jsxs("div",{className:[m.n23mSliderControls,"n23mSliderControls"].join(" "),children:[s.jsx("div",{className:[m.n23mSliderCounter,"n23mSliderCounter"].join(" "),children:s.jsx(P,{mobileSize:16,desktopSize:16,color:"black",children:r?`${H()+1} / ${l.length}`:`${i+1} / ${l.length}`})}),s.jsxs("div",{className:[m.n23mSliderControlsButtons,"n23mSliderControlsButtons"].join(" "),children:[s.jsx(F,{height:"50px",width:"50px",backgroundColor:"#F2F0EF",padding:0,title:"Prev",onClick:W,borderColor:"black",backgroundColorDisabled:"#F2F0EF",disabled:d||!r&&i===0,children:s.jsx(q,{width:24,height:24})}),s.jsx(F,{height:"50px",width:"50px",backgroundColor:"#F2F0EF",padding:0,title:"Next",borderColor:"black",backgroundColorDisabled:"#F2F0EF",onClick:L,disabled:d||!r&&i==l.length-1,children:s.jsx(M,{width:24,height:24})})]})]})]})]})};R.displayName="Slider";R.__docgenInfo={description:"",methods:[],displayName:"Slider",props:{isCircular:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},children:{required:!0,tsType:{name:"ReactNode"},description:""},showControls:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},loading:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},loaderColor:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'black'",computed:!1}}}};export{R as S};
